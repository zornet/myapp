{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\UIC53606\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import PrmNavBar from\"./PrmNavBar\";import axios from'axios';import Select from'react-select';import{Button}from'react-bootstrap';import{Dropdown}from\"react-bootstrap\";var issuetypes_rules={'Problem Report':['respects_runtime_transitions','doesnt_have_children_if_in_invalid_state'],'Story':['is_linked_to_parent_in_corresponding_state'],'Epic':['epic doesnt_have_issues_if_in_invalid_state'],'All issuetypes':[]};function Greetings(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,props.project),/*#__PURE__*/React.createElement(\"h2\",null,props.issuetype));}function Results(props){if(props.nrOkIssues=='not set'){return/*#__PURE__*/React.createElement(\"p\",null,\" \");}return/*#__PURE__*/React.createElement(\"div\",{class:\"walloffame-results\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Number of ok tickets: \",props.nrOkIssues),/*#__PURE__*/React.createElement(\"h3\",null,\"Number of not ok tickets:\",props.nrNotOkIssues));}var WallOfFame=/*#__PURE__*/function(_React$Component){_inherits(WallOfFame,_React$Component);var _super=_createSuper(WallOfFame);function WallOfFame(props){var _this;_classCallCheck(this,WallOfFame);_this=_super.call(this,props);_this.makeProjectDropdownItem=function(X){var _this2=this;return/*#__PURE__*/React.createElement(Dropdown.Item,{onClick:function onClick(){return _this2.updateSelectedProject(X);}},X);};_this.makeIssuetypeDropdownItem=function(X){var _this3=this;return/*#__PURE__*/React.createElement(Dropdown.Item,{onClick:function onClick(){return _this3.updateSelectedIssuetype(X);}},X);};_this.state={serializedProjects:[],nrOkIssues:'not set',nrNotOkIssues:'not set',selectedProject:'choose project',selectedIssuetype:'All issuetypes'};_this.getSerializedProjects=_this.getSerializedProjects.bind(_assertThisInitialized(_this));_this.updateSelectedProject=_this.updateSelectedProject.bind(_assertThisInitialized(_this));_this.updateSelectedIssuetype=_this.updateSelectedIssuetype.bind(_assertThisInitialized(_this));_this.makeIssuetypeDropdownItem=_this.makeIssuetypeDropdownItem.bind(_assertThisInitialized(_this));_this.getResults=_this.getResults.bind(_assertThisInitialized(_this));_this.makeProjectDropdownItem=_this.makeProjectDropdownItem.bind(_assertThisInitialized(_this));//calling this in the constructor in order to know what projects are available from the start\n// console.log(\"urmeaza sa apelez getserializedprojects\");\n// this.getSerializedProjects();\n// console.log(this.state.serializedProjects);\nreturn _this;}_createClass(WallOfFame,[{key:\"getSerializedProjects\",value:function(){var _getSerializedProjects=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this4=this;var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://127.0.0.1:5000/api/PRM-scripts/WallOfFame/serialized-projects\";_context.next=3;return axios.get(url).then(function(response){_this4.setState({serializedProjects:response.data});});case 3:case\"end\":return _context.stop();}}},_callee);}));function getSerializedProjects(){return _getSerializedProjects.apply(this,arguments);}return getSerializedProjects;}()},{key:\"updateSelectedProject\",value:function updateSelectedProject(newValue){this.setState({selectedProject:newValue});}},{key:\"updateSelectedIssuetype\",value:function updateSelectedIssuetype(newValue){this.setState({selectedIssuetype:newValue});}},{key:\"getResults\",value:function getResults(){var _this5=this;var url=\"http://127.0.0.1:5000/api/PRM-scripts/WallOfFame/get-results\";axios.post(url,{\"project\":this.state.selectedProject,\"issuetypes\":[this.state.selectedIssuetype]}).then(function(response){console.log(response.data);_this5.setState({nrOkIssues:response.data.nr_ok_issues,nrNotOkIssues:response.data.nr_not_ok_issues});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"prm-background\"},/*#__PURE__*/React.createElement(PrmNavBar,null),/*#__PURE__*/React.createElement(\"h1\",{class:\"wof-title\"},\"WallOfFame\"),/*#__PURE__*/React.createElement(\"div\",{class:\"dropdowns\"},/*#__PURE__*/React.createElement(Dropdown,{className:\"mydropdown\"},/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\"},this.state.selectedProject),/*#__PURE__*/React.createElement(Dropdown.Menu,null,this.state.serializedProjects.map(this.makeProjectDropdownItem))),/*#__PURE__*/React.createElement(Dropdown,{className:\"mydropdown\"},/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\"},this.state.selectedIssuetype),/*#__PURE__*/React.createElement(Dropdown.Menu,null,Object.keys(issuetypes_rules).map(this.makeIssuetypeDropdownItem))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{disabled:this.state.selectedProject=='choose project',onClick:this.getResults},\"Go\"))),/*#__PURE__*/React.createElement(Results,{nrOkIssues:this.state.nrOkIssues,nrNotOkIssues:this.state.nrNotOkIssues,project:this.state.selectedProject}));}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"FROM DIDMOUNT\");console.log(\"urmeaza sa apelez getserializedprojects\");_context2.next=4;return this.getSerializedProjects();case 4:console.log(this.state.serializedProjects);case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()}]);return WallOfFame;}(React.Component);export default WallOfFame;","map":{"version":3,"sources":["C:/Users/UIC53606/myapp/src/components/WallOfFame.js"],"names":["React","PrmNavBar","axios","Select","Button","Dropdown","issuetypes_rules","Greetings","props","project","issuetype","Results","nrOkIssues","nrNotOkIssues","WallOfFame","makeProjectDropdownItem","X","updateSelectedProject","makeIssuetypeDropdownItem","updateSelectedIssuetype","state","serializedProjects","selectedProject","selectedIssuetype","getSerializedProjects","bind","getResults","url","get","then","response","setState","data","newValue","post","console","log","nr_ok_issues","nr_not_ok_issues","map","Object","keys","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PrmNavBar from \"./PrmNavBar\";\nimport axios from 'axios';\nimport Select from 'react-select';\nimport { Button } from 'react-bootstrap'\nimport { Dropdown } from \"react-bootstrap\";\n\n\nconst issuetypes_rules = {\n    'Problem Report': ['respects_runtime_transitions', 'doesnt_have_children_if_in_invalid_state'],\n    'Story': ['is_linked_to_parent_in_corresponding_state'],\n    'Epic': ['epic doesnt_have_issues_if_in_invalid_state'],\n    'All issuetypes': []\n}\n\nfunction Greetings(props) {\n    return (\n        <div>\n            <h2>{props.project}</h2>\n            <h2>{props.issuetype}</h2>\n        </div>\n    );\n}\n\nfunction Results(props){\n    if(props.nrOkIssues == 'not set'){\n        return(\n          <p> </p>  \n        );\n    }\n    return(\n        <div class=\"walloffame-results\">\n            <h3>Number of ok tickets: {props.nrOkIssues}</h3>\n            <h3>Number of not ok tickets:{props.nrNotOkIssues}</h3>\n        </div>\n    )\n}\n\nclass WallOfFame extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            serializedProjects: [],\n            nrOkIssues: 'not set',\n            nrNotOkIssues: 'not set',\n            selectedProject: 'choose project',\n            selectedIssuetype: 'All issuetypes'\n        }\n        this.getSerializedProjects = this.getSerializedProjects.bind(this);\n        this.updateSelectedProject = this.updateSelectedProject.bind(this);\n        this.updateSelectedIssuetype = this.updateSelectedIssuetype.bind(this);\n        this.makeIssuetypeDropdownItem = this.makeIssuetypeDropdownItem.bind(this);\n        this.getResults = this.getResults.bind(this);\n        this.makeProjectDropdownItem = this.makeProjectDropdownItem.bind(this);\n\n        //calling this in the constructor in order to know what projects are available from the start\n        // console.log(\"urmeaza sa apelez getserializedprojects\");\n        // this.getSerializedProjects();\n        // console.log(this.state.serializedProjects);\n    }\n    async getSerializedProjects() {\n        let url = \"http://127.0.0.1:5000/api/PRM-scripts/WallOfFame/serialized-projects\";\n        await axios.get(url)\n            .then(response => {\n                this.setState({ serializedProjects: response.data });\n            });\n    }\n\n    updateSelectedProject(newValue) {\n        this.setState({ selectedProject: newValue });\n    }\n    makeProjectDropdownItem = function (X) {\n        return (\n            <Dropdown.Item onClick={() => this.updateSelectedProject(X)}>{X}</Dropdown.Item>\n        );\n    }\n    updateSelectedIssuetype(newValue) {\n        this.setState({ selectedIssuetype: newValue });\n    }\n    makeIssuetypeDropdownItem = function (X) {\n        return (\n            <Dropdown.Item onClick={() => this.updateSelectedIssuetype(X)}>{X}</Dropdown.Item>\n        );\n    }\n    getResults(){\n        let url = \"http://127.0.0.1:5000/api/PRM-scripts/WallOfFame/get-results\"\n        axios.post(url,{\n            \"project\": this.state.selectedProject,\n            \"issuetypes\": [this.state.selectedIssuetype]\n        }).then(response => {\n            console.log(response.data);\n            this.setState({ nrOkIssues: response.data.nr_ok_issues,\n                            nrNotOkIssues: response.data.nr_not_ok_issues});\n        });\n    }\n\n\n    render() {\n        return (\n            <div className=\"prm-background\">\n                <PrmNavBar></PrmNavBar>\n                <h1 class=\"wof-title\">WallOfFame</h1>\n                <div class=\"dropdowns\">\n                    <Dropdown   className='mydropdown'>\n                        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                            {this.state.selectedProject}\n                        </Dropdown.Toggle>\n\n                        <Dropdown.Menu>\n                            {this.state.serializedProjects.map(this.makeProjectDropdownItem)}\n                        </Dropdown.Menu>\n                    </Dropdown>\n\n                    <Dropdown  className='mydropdown'>\n                        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                            {this.state.selectedIssuetype}\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            {Object.keys(issuetypes_rules).map(this.makeIssuetypeDropdownItem)}\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    <div>\n                        <Button  disabled={this.state.selectedProject == 'choose project'} onClick={this.getResults}>Go</Button>\n                    </div>\n                </div>\n                {/* <div>\n                    <Button disabled={this.state.selectedProject == 'choose project'}>Go</Button>\n                </div> */}\n                {/* <Greetings project={this.state.selectedProject} issuetype={this.state.selectedIssuetype}></Greetings> */}\n                <Results  nrOkIssues={this.state.nrOkIssues} nrNotOkIssues={this.state.nrNotOkIssues} project={this.state.selectedProject}></Results>\n            </div>\n        );\n    }\n    async componentDidMount() {\n        console.log(\"FROM DIDMOUNT\");\n        console.log(\"urmeaza sa apelez getserializedprojects\");\n        await this.getSerializedProjects();\n        console.log(this.state.serializedProjects);\n    }\n}\n\n\nexport default WallOfFame;\n"]},"metadata":{},"sourceType":"module"}